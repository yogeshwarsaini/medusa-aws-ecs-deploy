{"version":3,"file":"calendar.js","sourceRoot":"","sources":["../../../src/utils/calendar.ts"],"names":[],"mappings":"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","sourcesContent":["import { CalendarDate, CalendarDateTime } from \"@internationalized/date\"\n\nimport { Granularity } from \"@/types\"\n\nfunction getDefaultCalendarDateTime(\n  value: Date | null | undefined,\n  defaultValue: Date | null | undefined\n) {\n  if (value) {\n    return createCalendarDateTime(value)\n  }\n\n  if (defaultValue) {\n    return createCalendarDateTime(defaultValue)\n  }\n\n  return null\n}\n\nfunction createCalendarDateTime(date: Date) {\n  return new CalendarDateTime(\n    date.getFullYear(),\n    date.getMonth() + 1,\n    date.getDate(),\n    date.getHours(),\n    date.getMinutes(),\n    date.getSeconds(),\n    date.getMilliseconds()\n  )\n}\n\nfunction updateCalendarDateTime(\n  date: CalendarDateTime | null | undefined,\n  value: Date\n) {\n  if (!date) {\n    return createCalendarDateTime(value)\n  }\n\n  date.set({\n    day: value.getDate(),\n    month: value.getMonth() + 1,\n    year: value.getFullYear(),\n    hour: value.getHours(),\n    minute: value.getMinutes(),\n    second: value.getSeconds(),\n    millisecond: value.getMilliseconds(),\n  })\n\n  return date\n}\n\nfunction getDefaultCalendarDate(\n  value: Date | null | undefined,\n  defaultValue: Date | null | undefined\n) {\n  if (value) {\n    return createCalendarDate(value)\n  }\n\n  if (defaultValue) {\n    return createCalendarDate(defaultValue)\n  }\n\n  return null\n}\n\nfunction createCalendarDate(date: Date) {\n  return new CalendarDate(\n    date.getFullYear(),\n    date.getMonth() + 1,\n    date.getDate()\n  )\n}\n\nfunction updateCalendarDate(\n  date: CalendarDate | null | undefined,\n  value: Date\n) {\n  if (!date) {\n    return createCalendarDate(value)\n  }\n\n  date.set({\n    day: value.getDate(),\n    month: value.getMonth() + 1,\n    year: value.getFullYear(),\n  })\n\n  return date\n}\n\nconst USES_TIME = new Set<Granularity>([\"hour\", \"minute\", \"second\"])\n\nfunction createCalendarDateFromDate(date: Date, granularity?: Granularity) {\n  if (granularity && USES_TIME.has(granularity)) {\n    return createCalendarDateTime(date)\n  }\n\n  return createCalendarDate(date)\n}\n\nfunction updateCalendarDateFromDate(\n  date: CalendarDate | CalendarDateTime | null | undefined,\n  value: Date,\n  granularity?: Granularity\n) {\n  if (granularity && USES_TIME.has(granularity)) {\n    return updateCalendarDateTime(date as CalendarDateTime, value)\n  }\n\n  return updateCalendarDate(date as CalendarDate, value)\n}\n\nfunction getDefaultCalendarDateFromDate(\n  value: Date | null | undefined,\n  defaultValue: Date | null | undefined,\n  granularity?: Granularity\n) {\n  if (value) {\n    return createCalendarDateFromDate(value, granularity)\n  }\n\n  if (defaultValue) {\n    return createCalendarDateFromDate(defaultValue, granularity)\n  }\n\n  return null\n}\n\nexport {\n  createCalendarDate,\n  createCalendarDateFromDate,\n  getDefaultCalendarDate,\n  getDefaultCalendarDateFromDate,\n  updateCalendarDate,\n  updateCalendarDateFromDate,\n}\n"]}